<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nima Sherpa | Financial Strategy & Analysis</title>
    <meta name="description" content="An interactive professional website for Nima Sherpa, featuring the Dynamic Deal Room experience to showcase FP&A and CFA expertise.">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Playfair+Display:wght@700&family=Inconsolata:wght@400;600&display=swap" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    
    <style>
        :root { --primary: #0A1A2F; --accent: #00E0C7; --light: #F5F9FC; --white: #FFFFFF; --dark: #222; --gray: #6C757D; }
        html { scroll-behavior: smooth; }
        body { font-family: 'Inter', sans-serif; background-color: var(--light); line-height: 1.6; color: var(--dark); margin: 0; }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 2rem; }
        section { padding: 6rem 0; overflow-x: hidden; }
        
        /* === Dynamic Deal Room Styles === */
        #deal-room-section { background: var(--primary); color: var(--white); text-align: center; }
        .deal-room-intro h2 { color: white; }
        #enter-deal-room-btn {
            background-color: var(--accent); color: var(--primary); padding: 1rem 2.5rem; border: none;
            border-radius: 4px; font-size: 1.1rem; font-weight: 600; cursor: pointer; transition: all 0.3s;
        }
        #enter-deal-room-btn:hover { transform: translateY(-3px); box-shadow: 0 5px 15px rgba(0, 224, 199, 0.3); }

        #deal-room-environment {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(10, 26, 47, 0.95);
            backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
            z-index: 2000; opacity: 0; pointer-events: none; transition: opacity 0.5s ease;
            display: flex; align-items: center; justify-content: center;
        }
        #deal-room-environment.active { opacity: 1; pointer-events: all; }
        
        .deal-room-content { max-width: 900px; width: 100%; text-align: center; }
        .deal-room-header { margin-bottom: 3rem; }
        .deal-room-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 2rem; margin-bottom: 3rem; }
        
        .deal-item {
            background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 1.5rem; border-radius: 8px; cursor: pointer; transition: all 0.3s ease;
        }
        .deal-item:hover { background: rgba(0, 224, 199, 0.1); border-color: var(--accent); }
        .deal-item h4 { margin: 0; color: var(--accent); }
        .deal-item.explored { border-color: var(--accent); }

        .deal-decision-buttons button { padding: 0.8rem 2rem; font-size: 1rem; font-weight: 600; border-radius: 4px; border: none; cursor: pointer; transition: transform 0.2s; }
        .deal-decision-buttons button:hover { transform: scale(1.05); }
        #approve-btn { background: var(--accent); color: var(--primary); }
        #reject-btn { background: #475569; color: white; margin-left: 1rem; }
        .deal-decision-buttons { opacity: 0; pointer-events: none; transition: opacity 0.5s 0.5s; }
        .deal-decision-buttons.visible { opacity: 1; pointer-events: all; }

        /* Modal Styles */
        .deal-modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.5); z-index: 2001;
            display: flex; align-items: center; justify-content: center;
            opacity: 0; pointer-events: none; transition: opacity 0.3s;
        }
        .deal-modal.active { opacity: 1; pointer-events: all; }
        .modal-content {
            background: var(--light); color: var(--dark); padding: 2rem; border-radius: 8px;
            max-width: 600px; width: 90%; transform: scale(0.95); transition: transform 0.3s;
        }
        .deal-modal.active .modal-content { transform: scale(1); }
        .modal-content h3 { color: var(--primary); margin-top: 0; }
        
        /* Specific Modal Content Styles */
        #dcf-model .dcf-output { font-size: 2rem; font-weight: bold; color: var(--primary); margin: 1rem 0; }
        #team-chat-content { height: 250px; overflow-y: auto; background: #e2e8f0; padding: 1rem; border-radius: 4px; text-align: left; }
        .chat-message { margin-bottom: 1rem; }
        .chat-message strong { color: var(--primary); }
        .chat-message.nima strong { color: #059669; }

        #investment-memo { text-align: left; }
    </style>
</head>
<body>

    <main>
        <!-- Standard Header, Hero, About sections can be placed here -->
        <section id="hero-placeholder" style="height: 100vh; display:flex; align-items:center; justify-content:center; text-align:center;"><div><h1>Nima Sherpa<br><span style="font-size: 1.5rem; font-family: Inter;">Financial Strategy & Analysis</span></h1></div></section>

        <!-- === The Dynamic Deal Room Section === -->
        <section id="deal-room-section">
            <div class="container deal-room-intro">
                <div class="section-header" data-aos="fade-up">
                    <h2 style="color: white;">A $100M Acquisition is on the Table.</h2>
                    <div class="section-divider"></div>
                    <p class="section-subheader" style="color: rgba(255,255,255,0.8);">I've done the initial work, but I need your input on the final decision.</p>
                </div>
                <button id="enter-deal-room-btn" data-aos="fade-up" data-aos-delay="100">Enter the Deal Room</button>
            </div>
        </section>

        <!-- The rest of your site (case studies, contact) can go here -->
    </main>
    
    <!-- === Deal Room Environment (Hidden by default) === -->
    <div id="deal-room-environment">
        <div class="deal-room-content">
            <div class="deal-room-header">
                <h2>DEAL ROOM: Project Momentum</h2>
                <p>Explore the available intelligence, then make your recommendation.</p>
            </div>
            <div class="deal-room-grid">
                <div class="deal-item" id="open-dossier"><h4>Target Dossier</h4></div>
                <div class="deal-item" id="open-dcf"><h4>DCF Valuation</h4></div>
                <div class="deal-item" id="open-chat"><h4>Team Chat</h4></div>
            </div>
            <div class="deal-decision-buttons" id="decision-buttons">
                <button id="reject-btn">REJECT DEAL</button>
                <button id="approve-btn">APPROVE DEAL</button>
            </div>
        </div>
    </div>

    <!-- === Modals for Deal Room Items (Hidden by default) === -->
    <div class="deal-modal" id="dossier-modal">
        <div class="modal-content"><h3>Target: Momentum Corp.</h3><p>A mid-cap SaaS company specializing in logistics software. Strong revenue growth but facing new, well-funded competitors.</p><button class="close-modal">Close</button></div>
    </div>

    <div class="deal-modal" id="dcf-modal">
        <div class="modal-content"><h3>Dynamic DCF Model</h3><p>Adjust the key assumption below to see its impact on the valuation.</p><div id="dcf-model"><label for="growth-rate">Perpetual Growth Rate:</label><input type="range" id="growth-rate" min="1.5" max="3.5" value="2.5" step="0.1"><div class="dcf-output" id="dcf-value">$87.5M</div></div><button class="close-modal">Close</button></div>
    </div>
    
    <div class="deal-modal" id="chat-modal">
        <div class="modal-content"><h3>Project Momentum - Team Sync</h3><div id="team-chat-content"></div><button class="close-modal">Close</button></div>
    </div>
    
    <div class="deal-modal" id="memo-modal">
        <div class="modal-content" id="investment-memo"><h3>Final Investment Memo</h3><p>Thank you for your input. After weighing the aggressive growth potential against the significant market and valuation risks, my final recommendation is to...</p><h2 style="color:var(--primary); text-align:center;">REJECT AT CURRENT PRICE.</h2><p>However, I recommend re-opening negotiations with a target offer of $85M, which provides a sufficient margin of safety. My full analysis is available in the case studies below.</p><button class="close-modal" id="exit-deal-room">Exit Deal Room</button></div>
    </div>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        AOS.init({ duration: 800, once: true, offset: 100 });

        // --- Deal Room Logic ---
        const enterBtn = document.getElementById('enter-deal-room-btn');
        const dealRoomEnv = document.getElementById('deal-room-environment');
        
        const modals = {
            dossier: document.getElementById('dossier-modal'),
            dcf: document.getElementById('dcf-modal'),
            chat: document.getElementById('chat-modal'),
            memo: document.getElementById('memo-modal')
        };
        
        const openTriggers = {
            dossier: document.getElementById('open-dossier'),
            dcf: document.getElementById('open-dcf'),
            chat: document.getElementById('open-chat')
        };

        const decisionButtons = document.getElementById('decision-buttons');
        const approveBtn = document.getElementById('approve-btn');
        const rejectBtn = document.getElementById('reject-btn');
        const exitBtn = document.getElementById('exit-deal-room');

        let exploredItems = new Set();

        function openModal(modal) {
            modal.classList.add('active');
        }

        function closeModal(modal) {
            modal.classList.remove('active');
        }

        function checkExploration() {
            if (exploredItems.size >= 2) {
                decisionButtons.classList.add('visible');
            }
        }

        // Main entry point
        enterBtn.addEventListener('click', () => {
            dealRoomEnv.classList.add('active');
        });

        // Open modal triggers
        for (const key in openTriggers) {
            openTriggers[key].addEventListener('click', () => {
                openModal(modals[key]);
                openTriggers[key].classList.add('explored');
                exploredItems.add(key);
                checkExploration();
            });
        }
        
        // Close modal triggers
        document.querySelectorAll('.close-modal').forEach(btn => {
            btn.addEventListener('click', () => {
                closeModal(btn.closest('.deal-modal'));
            });
        });

        exitBtn.addEventListener('click', () => {
            dealRoomEnv.classList.remove('active');
        });

        // Decision button triggers
        approveBtn.addEventListener('click', () => openModal(modals.memo));
        rejectBtn.addEventListener('click', () => openModal(modals.memo));

        // --- Interactive DCF Model ---
        const growthRateSlider = document.getElementById('growth-rate');
        const dcfValueEl = document.getElementById('dcf-value');
        growthRateSlider.addEventListener('input', (e) => {
            const rate = parseFloat(e.target.value);
            // Simplified valuation formula for demonstration
            const valuation = 50 + ((rate - 1.5) * 25);
            dcfValueEl.textContent = `$${valuation.toFixed(1)}M`;
        });
        
        // --- Simulated Team Chat ---
        const chatContent = document.getElementById('team-chat-content');
        const chatMessages = [
            { user: "CEO", text: "Momentum Corp looks like a rocket ship! We need to move fast on this." },
            { user: "Head of Sales", text: "Their client list is top-tier. I can see major cross-sell opportunities. My team can 2x their revenue in a year." },
            { user: "N. Sherpa", text: "Agreed on the potential, but their sales growth is heavily reliant on one client (45% of ARR). We need to factor in concentration risk." },
            { user: "N. Sherpa", text: "Also, their R&D spend has been flat for 2 years. Are we buying innovation or a maintenance-mode product?" }
        ];
        
        openTriggers.chat.addEventListener('click', () => {
            chatContent.innerHTML = '';
            let delay = 0;
            chatMessages.forEach(msg => {
                setTimeout(() => {
                    const msgEl = document.createElement('div');
                    msgEl.className = `chat-message ${msg.user === 'N. Sherpa' ? 'nima' : ''}`;
                    msgEl.innerHTML = `<strong>${msg.user}:</strong><p>${msg.text}</p>`;
                    chatContent.appendChild(msgEl);
                    chatContent.scrollTop = chatContent.scrollHeight;
                }, delay);
                delay += 1200;
            });
        });
    });
    </script>
</body>
</html>
