<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nima Sherpa | Financial Strategy & Analysis Professional</title>
    <meta name="description" content="A professional portfolio for Nima Sherpa, showcasing dual expertise in corporate FP&A and investment analysis (CFA).">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    
    <style>
        /* Base Styles are the same */
        :root { --primary: #0A1A2F; --accent: #00E0C7; --light: #F5F9FC; --white: #FFFFFF; --dark: #222; --gray: #6C757D; }
        html { scroll-behavior: smooth; }
        body { font-family: 'Inter', sans-serif; background-color: var(--light); line-height: 1.6; color: var(--dark); margin: 0; }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 2rem; }
        section { padding: 6rem 0; overflow-x: hidden; }
        /* ... Other standard styles ... */
        
        /* === Strategic Decision Hub Styles === */
        #decision-hub { background: var(--primary); color: var(--white); }
        .hub-wrapper { max-width: 900px; margin: 0 auto; text-align: center; }
        .challenge-selection { display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-bottom: 3rem; }
        .challenge-card {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 255, 255, 0.2);
            padding: 2rem;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .challenge-card:hover, .challenge-card.active {
            background: rgba(0, 224, 199, 0.1);
            border-color: var(--accent);
            transform: translateY(-5px);
        }
        .challenge-card h3 { color: var(--accent); margin-top: 0; }
        
        .sandbox { display: none; } /* Hide sandboxes by default */
        .sandbox.active { display: block; }

        #sandbox-dashboard { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1.5rem; background: rgba(255, 255, 255, 0.05); padding: 2rem; border-radius: 12px; margin-bottom: 3rem; }
        .metric-card .metric-label { font-size: 0.9rem; opacity: 0.8; }
        .metric-card .metric-value { font-size: 2.5rem; font-weight: 700; transition: color 0.4s; }
        
        .sandbox-levers { display: flex; justify-content: center; gap: 1rem; flex-wrap: wrap; margin-bottom: 3rem; }
        .lever-btn { background-color: transparent; border: 2px solid rgba(255, 255, 255, 0.3); color: white; padding: 0.8rem 1.5rem; border-radius: 50px; cursor: pointer; font-size: 1rem; font-weight: 600; }
        
        #analyst-note-area { background: rgba(0, 224, 199, 0.1); border-left: 3px solid var(--accent); border-radius: 4px; padding: 1.5rem; margin: 0 auto 3rem; text-align: left; max-width: 700px; opacity: 0; transform: translateY(20px); transition: all 0.5s ease; }
        #analyst-note-area.visible { opacity: 1; transform: translateY(0); }
        #analyst-note-area h4 { color: var(--accent); margin: 0 0 0.5rem; }
        
        /* Case Study Styles */
        .project-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 2rem; }
        .grid-item { transition: transform 0.4s ease, opacity 0.4s ease, height 0.4s ease, padding 0.4s ease, margin 0.4s ease; }
        .grid-item.is-hidden { transform: scale(0.8); opacity: 0; height: 0; padding: 0; margin: 0; overflow: hidden; border: none; }
        .project-item { background: var(--white); border-radius: 8px; box-shadow: 0 5px 25px rgba(0,0,0,0.07); overflow: hidden; display: block; }
        .card-image-wrapper img { width: 100%; height: 200px; object-fit: cover; }
        .card-content { padding: 1.5rem; }
    </style>
</head>
<body>

    <header id="main-header"> <!-- Standard Header --> </header>
    <main>
        <section id="hero">
            <h1 data-aos="fade-up">Financial Strategy for Corporate & Investment Decisions</h1>
            <p class="hero-subtitle" data-aos="fade-up" data-aos-delay="100">Dual expertise in Corporate FP&A and Investment Analysis (CFA).</p>
        </section>

        <section id="about" class="section-bg-alt">
            <div class="container" data-aos="fade-up">
                <div class="section-header"><h2>A Dual Perspective on Value</h2><div class="section-divider"></div></div>
                <!-- About Me content can go here -->
            </div>
        </section>

        <!-- === NEW: Strategic Decision Hub === -->
        <section id="decision-hub">
            <div class="container hub-wrapper">
                <div class="section-header" data-aos="fade-up">
                    <h2 style="color: white;">Step into the Strategist's Seat</h2>
                    <p class="section-subheader" style="color: rgba(255,255,255,0.8);">Which hat will you wear today? Select a challenge to begin.</p>
                </div>
                <div class="challenge-selection" data-aos="fade-up" data-aos-delay="100">
                    <div class="challenge-card" id="select-fpa">
                        <h3>The Corporate Finance Challenge</h3>
                        <p>Optimize a company's profitability from the inside.</p>
                    </div>
                    <div class="challenge-card" id="select-cfa">
                        <h3>The Investment Analysis Challenge</h3>
                        <p>Analyze a potential acquisition from the outside.</p>
                    </div>
                </div>

                <!-- FP&A Sandbox -->
                <div class="sandbox" id="fpa-sandbox">
                    <div id="sandbox-dashboard-fpa" class="sandbox-dashboard">
                         <!-- FP&A metrics will be generated here -->
                    </div>
                    <div class="sandbox-levers">
                        <button class="lever-btn" data-lever="costs">Cut Operational Costs</button>
                        <button class="lever-btn" data-lever="process">Improve Process</button>
                    </div>
                </div>

                <!-- CFA Sandbox -->
                <div class="sandbox" id="cfa-sandbox">
                     <div id="sandbox-dashboard-cfa" class="sandbox-dashboard">
                        <!-- CFA metrics will be generated here -->
                    </div>
                    <div class="sandbox-levers">
                        <button class="lever-btn" data-lever="statements">Analyze Financials</button>
                        <button class="lever-btn" data-lever="dcf">Run DCF Model</button>
                    </div>
                </div>
                
                <div id="analyst-note-area">
                    <h4 id="analyst-note-title">My Analyst's Note</h4>
                    <p id="analyst-note-text">Select a lever to see my professional take.</p>
                </div>
            </div>
        </section>

        <section id="case-studies" class="section-bg-alt">
            <div class="container">
                <div class="section-header" data-aos="fade-up"><h2>Case Studies & Analyses</h2><div class="section-divider"></div></div>
                <div id="project-grid" class="project-grid">
                    <!-- FP&A Case Studies -->
                    <div class="grid-item" data-aos="fade-up" data-type="fpa">
                        <div class="project-item"><div class="card-image-wrapper"><img src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?auto=format&fit=crop" alt="Dashboard"></div><div class="card-content"><h3>FP&A: Cost Reduction Analysis</h3><p>Identified 15% cost savings in operational overhead.</p></div></div>
                    </div>
                    <div class="grid-item" data-aos="fade-up" data-aos-delay="100" data-type="fpa">
                         <div class="project-item"><div class="card-image-wrapper"><img src="https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?auto=format&fit=crop" alt="Charts"></div><div class="card-content"><h3>FP&A: Annual Budget Modeling</h3><p>Built a dynamic 3-statement model for the yearly budget cycle.</p></div></div>
                    </div>
                    <!-- CFA Case Studies -->
                    <div class="grid-item" data-aos="fade-up" data-aos-delay="200" data-type="cfa">
                         <div class="project-item"><div class="card-image-wrapper"><img src="https://images.unsplash.com/photo-1556761175-5973dc0f32e7?auto=format&fit=crop" alt="Handshake"></div><div class="card-content"><h3>CFA: M&A Due Diligence</h3><p>Led financial due diligence for a mid-market acquisition target.</p></div></div>
                    </div>
                    <div class="grid-item" data-aos="fade-up" data-aos-delay="300" data-type="cfa">
                        <div class="project-item"><div class="card-image-wrapper"><img src="https://images.unsplash.com/photo-1639755243242-d81ee4543b59?auto=format&fit=crop" alt="Data streams"></div><div class="card-content"><h3>CFA: Equity Valuation Report</h3><p>Authored a comprehensive 'Buy' recommendation on a tech stock.</p></div></div>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="contact"> <!-- Standard Contact Section --> </section>
    </main>
    <footer id="main-footer"> <!-- Standard Footer --> </footer>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        AOS.init({ duration: 800, once: true, offset: 100 });

        const hub = document.getElementById('decision-hub');
        if (hub) {
            const selectFPA = document.getElementById('select-fpa');
            const selectCFA = document.getElementById('select-cfa');
            const fpaSandbox = document.getElementById('fpa-sandbox');
            const cfaSandbox = document.getElementById('cfa-sandbox');
            const noteArea = document.getElementById('analyst-note-area');
            const noteTitle = document.getElementById('analyst-note-title');
            const noteText = document.getElementById('analyst-note-text');
            const gridItems = document.querySelectorAll('.grid-item');

            const fpaLevers = fpaSandbox.querySelectorAll('.lever-btn');
            const cfaLevers = cfaSandbox.querySelectorAll('.lever-btn');
            
            const dashboards = {
                fpa: document.getElementById('sandbox-dashboard-fpa'),
                cfa: document.getElementById('sandbox-dashboard-cfa')
            };

            const notes = {
                costs: { title: "My Analyst's Note", text: "A quick win, but I always analyze which costs are scalable vs. fixed. My goal is to improve the operating leverage without hurting growth capacity." },
                process: { title: "My Analyst's Note", text: "This is my preferred long-term solution. Investing in process optimization pays dividends in both cost savings and scalability." },
                statements: { title: "My Analyst's Thesis", text: "The balance sheet shows healthy liquidity, but the cash flow statement reveals high capital expenditures. This warrants a deeper look into their reinvestment strategy." },
                dcf: { title: "My Analyst's Thesis", text: "My DCF model, using a conservative 8% WACC, suggests a 15% upside from the current market price. This indicates a potential margin of safety, making it an attractive opportunity." }
            };
            
            function showSandbox(type) {
                selectFPA.classList.toggle('active', type === 'fpa');
                selectCFA.classList.toggle('active', type === 'cfa');
                fpaSandbox.classList.toggle('active', type === 'fpa');
                cfaSandbox.classList.toggle('active', type === 'cfa');
                noteArea.classList.remove('visible');

                // Filter case studies
                gridItems.forEach(item => {
                    item.classList.toggle('is-hidden', item.dataset.type !== type);
                });
            }

            function displayMetrics(container, metrics) {
                container.innerHTML = '';
                for (const [key, value] of Object.entries(metrics)) {
                    const card = document.createElement('div');
                    card.className = 'metric-card';
                    card.innerHTML = `<span class="metric-label">${key}</span><span class="metric-value">${value}</span>`;
                    container.appendChild(card);
                }
            }

            selectFPA.addEventListener('click', () => {
                showSandbox('fpa');
                displayMetrics(dashboards.fpa, { 'Revenue': '$10M', 'Costs': '$8M', 'Profit Margin': '20%' });
            });

            selectCFA.addEventListener('click', () => {
                showSandbox('cfa');
                displayMetrics(dashboards.cfa, { 'Revenue Growth': '15%', 'EBITDA Margin': '30%', 'Debt/Equity': '0.5' });
            });
            
            fpaLevers.forEach(lever => lever.addEventListener('click', () => {
                const note = notes[lever.dataset.lever];
                noteTitle.textContent = note.title;
                noteText.textContent = note.text;
                noteArea.classList.add('visible');
            }));

            cfaLevers.forEach(lever => lever.addEventListener('click', () => {
                const note = notes[lever.dataset.lever];
                noteTitle.textContent = note.title;
                noteText.textContent = note.text;
                noteArea.classList.add('visible');
            }));
        }
    });
    </script>
</body>
</html>
